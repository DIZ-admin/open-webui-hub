# üöÄ LiteLLM Setup and Configuration Guide

## üìã –û–±–∑–æ—Ä

LiteLLM –≤ Open WebUI Hub –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º, –≤–∫–ª—é—á–∞—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ Ollama –∏ –≤–Ω–µ—à–Ω–∏–µ API (OpenAI, Anthropic, Google).

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–ü–æ—Ä—Ç**: 4000
- **API Endpoint**: `http://localhost:4000/v1/`
- **–ú–∞—Å—Ç–µ—Ä –∫–ª—é—á**: `sk-1234567890abcdef`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `conf/litellm/litellm_config.yaml`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: `env/litellm.env`

### ü§ñ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

#### –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (—á–µ—Ä–µ–∑ Ollama)
- `llama3.2:3b` - –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –æ–±—â–µ–Ω–∏—è
- `qwen2.5-coder:1.5b` - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- `llama3` - –ê–ª–∏–∞—Å –¥–ª—è llama3.2:3b
- `coder` - –ê–ª–∏–∞—Å –¥–ª—è qwen2.5-coder:1.5b
- `auto` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏

#### –í–Ω–µ—à–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (—Ç—Ä–µ–±—É—é—Ç API –∫–ª—é—á–∏)
- **OpenAI**: `gpt-4o`, `gpt-4o-mini`, `gpt-3.5-turbo`
- **Anthropic**: `claude-3-5-sonnet`, `claude-3-haiku`
- **Google**: `gemini-1.5-pro`, `gemini-1.5-flash`

## üîë API –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
```bash
curl -X POST http://localhost:4000/v1/chat/completions \
  -H "Authorization: Bearer sk-1234567890abcdef" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "llama3",
    "messages": [{"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç!"}],
    "max_tokens": 100
  }'
```

### –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
```bash
curl -H "Authorization: Bearer sk-1234567890abcdef" \
  http://localhost:4000/v1/models
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
curl -H "Authorization: Bearer sk-1234567890abcdef" \
  http://localhost:4000/health
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤**: 120 —Å–µ–∫—É–Ω–¥
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä—ã**: 2
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: 10 (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π)
- **Rate limiting**: 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É, 10000 —Ç–æ–∫–µ–Ω–æ–≤/–º–∏–Ω—É—Ç—É

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–¢–∏–ø**: Redis
- **–•–æ—Å—Ç**: redis:6379
- **TTL**: 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–£—Ä–æ–≤–µ–Ω—å**: INFO
- **Callbacks**: Redis –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## üîÑ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

### –ì—Ä—É–ø–ø—ã –º–æ–¥–µ–ª–µ–π
- **chat**: llama3.2:3b ‚Üí gpt-4o-mini ‚Üí claude-3-haiku ‚Üí gemini-1.5-flash
- **coding**: qwen2.5-coder:1.5b ‚Üí gpt-4o ‚Üí claude-3-5-sonnet
- **fast**: llama3.2:3b ‚Üí gpt-3.5-turbo ‚Üí gemini-1.5-flash
- **advanced**: gpt-4o ‚Üí claude-3-5-sonnet ‚Üí gemini-1.5-pro ‚Üí llama3.2:3b

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–µ–π
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `env/litellm.env`:
```bash
# OpenAI
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google
GOOGLE_API_KEY=your_google_api_key_here
```

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ LiteLLM:
```bash
docker-compose -f compose.local.yml restart litellm
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Dashboard API

### –°—Ç–∞—Ç—É—Å LiteLLM
```bash
curl http://localhost:5002/api/litellm/status
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
```bash
curl -X POST http://localhost:5002/api/litellm/test \
  -H "Content-Type: application/json" \
  -d '{"model": "llama3", "message": "–¢–µ—Å—Ç"}'
```

### –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
```bash
curl http://localhost:5002/api/litellm/models
```

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Open WebUI

Open WebUI –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è LiteLLM –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
- **OpenAI API Base**: `http://litellm:4000/v1`
- **API Key**: `sk-1234567890abcdef`
- **Ollama Base**: `http://ollama:11434` (–ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ)

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–∞–π–º–∞—É—Ç—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ**: –ú–æ–¥–µ–ª–∏ Ollama —Ç—Ä–µ–±—É—é—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –ø–∞–º—è—Ç—å. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 60 —Å–µ–∫—É–Ω–¥.

### –ü—Ä–æ–±–ª–µ–º–∞: Health endpoint –∑–∞–≤–∏—Å–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/v1/models` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤–º–µ—Å—Ç–æ `/health`.

### –ü—Ä–æ–±–ª–µ–º–∞: –í–Ω–µ—à–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å API –∫–ª—é—á–µ–π –≤ `env/litellm.env`.

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
1. –£–º–µ–Ω—å—à–∏—Ç–µ `max_parallel_requests` –¥–æ 5-10
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ollama_keep_alive: "5m"` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –≤ –ø–∞–º—è—Ç–∏
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç–∞–π–º–∞—É—Ç—ã (60-120 —Å–µ–∫—É–Ω–¥)

### –î–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
1. –£–≤–µ–ª–∏—á—å—Ç–µ `max_parallel_requests` –¥–æ 50-100
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Ç–∞–π–º–∞—É—Ç—ã (30-60 —Å–µ–∫—É–Ω–¥)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ rate limiting —Å–æ–≥–ª–∞—Å–Ω–æ –ª–∏–º–∏—Ç–∞–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `conf/litellm/litellm_config.yaml`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å: `docker-compose -f compose.local.yml restart litellm`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `curl -H "Authorization: Bearer sk-1234567890abcdef" http://localhost:4000/v1/models`

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [LiteLLM Documentation](https://docs.litellm.ai/)
- [OpenAI API Reference](https://platform.openai.com/docs/api-reference)
- [Anthropic API Documentation](https://docs.anthropic.com/)
- [Google AI Studio](https://aistudio.google.com/)
